/* Copyright (c) 2013 Tyler Uebele * Released under the MIT license. * latest at https://github.com/tyleruebele/details-shim * minified at jscompress.com */
function details_shim(){var e=document.getElementsByTagName("summary");for(var t=0;t<e.length;t++){if(!e[t].parentNode||"details"!=e[t].parentNode.tagName.toLowerCase()||"boolean"==typeof e[t].parentNode.open){continue}var n=e[t].parentNode;var r=n.outerHTML||(new XMLSerializer).serializeToString(n);r=r.substring(0,r.indexOf(">"));r=-1!=r.indexOf("open")&&-1==r.indexOf('open=""')?"open":"closed";n.setAttribute("data-open",r);n.className+=" "+r;e[t].onclick=function(){var e=this.parentNode.getAttribute("data-open");e=e=="open"?"closed":"open";this.parentNode.setAttribute("data-open",e);this.parentNode.className=this.parentNode.className.replace(/\bopen\b|\bclosed\b/g," ")+" "+e};for(var i=0;i<n.childNodes.length;i++){if(n.childNodes[i].nodeType==3&&/[^\s]/.test(n.childNodes[i].data)){var s=document.createElement("span");var o=n.childNodes[i];n.insertBefore(s,o);n.removeChild(o);s.appendChild(o)}}}}window.addEventListener?window.addEventListener("load",details_shim,false):window.attachEvent&&window.attachEvent("onload",details_shim)
